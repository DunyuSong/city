<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="x-dns-prefetch-control" content="on">
    <link rel="icon" href="https://www.freecodecamp.one/favicon.ico">
    <meta name="referrer" content="always">
    <meta name="keywords" content="freeCodeCamp 开发者社区 互联网行业技术 人才">
    <meta name="description" content="">
    <title>freecodecamp 城市社区</title>
    <script src="./third-party/vue.min.js"></script>
    <link rel="stylesheet" href="./freecodecamp.one/css/style.css?v=1.2">
  </head>

  <body>
    <div id="freecodecamp">
      <section class="banner">
        <h2 class="title">【<span v-text="cityName"></span>】</h2>
        <div class="sec_title">freeCodeCamp中国城市社区</div>
      </section>
      <div class="container">
        <div class="top_links">
          <a href="https://www.freecodecamp.one" target="_blank">首页</a>&gt;
          <a href="https://www.freecodecamp.one/community" target="_blank">社区</a>
          <span class="city_tip"><em>&gt;</em>【<em v-text="cityName"></em>】feeeCodeCamp中国城市社区</span>
        </div>
        <div class="snap clearfix">
          <div class="img_box" @mouseover="shadowin=true" @mouseout="shadowin=false">
            <img :src="picPrefix+banner">
            <div v-show="shadowin">
              <div class="shadowin">
                <p v-for="(item,index) in brief" :key="index" v-text="item"></p>
              </div>
            </div>
          </div>
          <div class="info">
            <div class="info_t">
              欢迎加入<br class="sm_db">freeCodeCamp<br class="sm_db"><span v-text="cityName"></span>社区
            </div>
            <ul>
              <li><a :href="website" target='_blank'>网站</a></li>
              <li><a href="javascript:;" @click="qrcodeShow=true" @mouseover="qrcodeShow=true">微信</a></li>
              <li><a :href="weibo" target='_blank'>微博</a></li>
              <li><a :href="github" target='_blank'>Github 账号</a></li>
              <div class="qrcode" @click="qrcodeShow=false" v-if="qrcodeShow">
                <img :src="picPrefix + wechat" class="city_qr">
              </div>
            </ul>
          </div>
        </div>

        <div class="content">
          <p class="list_head">社区组织者</p>
          <div class="lists">
            <div class="list_item" v-for="(orger, index) of organiser" :key="index">
              <a :href="orger.link==='javascript:;'?orger.link:'./organiser.html?name='+orger.link" target='_blank'>
                <div class="img_content">
                  <div>
                    <img :src="picPrefix +'organiser/' + orger.pic">
                  </div>
                </div>
                <p v-text="orger.name"></p>
              </a>
            </div>
          </div>
        </div>

        <div class="content" v-if="history.length>0">
          <p class="list_head">历史贡献者</p>
          <div class="lists">
            <div class="list_item" v-for="(hst, index) of history" :key="index">
              <a :href="hst.link" target='_blank'>
                <div class="img_content">
                  <div>
                    <img :src="picPrefix +'history/' + hst.pic">
                  </div>
                </div>
                <p v-text="hst.name"></p>
              </a>
            </div>
          </div>
        </div>

        <div class="content" v-if="speakers.length>0">
          <p class="list_head">演讲嘉宾</p>
          <div class="lists">
            <div class="list_item" v-for="(speaker, index) of speakers" :key="index">
              <a :href="speaker.link" target='_blank'>
                <div class="img_content">
                  <div>
                    <img :src="picPrefix +'speakers/' + speaker.pic">
                  </div>
                </div>
                <p v-text="speaker.name"></p>
              </a>
            </div>
          </div>
        </div>

        <div class="content" v-if="co_company.length>0">
          <p class="list_head">合作企业</p>
          <div class="partners">
            <div class="part_item" v-for="(company, index) in co_company " :key="index">
              <a :href="company.link" target='_blank'>
                <img :src="picPrefix +'co_company/' + company.pic">
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      (function (window, document, undefined) {
        var getCity = function (callback) {
          var cbName = 'cb=' + new Date().getMonth();
          var ele = document.createElement('script');
          var path = new URLSearchParams(location.search).get('city');
          ele.src = `./cities/${path}.js?${cbName}`;
          document.body.insertBefore(ele, document.querySelector("#freecodecamp"));
          ele.onload = function () {
            setCity();
          }
        }
        window.getCity = getCity;
      })(window, document, undefined);
      var setCity = function () {
        var vm = new Vue({
          el: "#freecodecamp",
          data: {
            qrcodeShow: false,
            shadowin: false,
            brief:city.brief,
            cityName: city.name,
            banner: city.banner,
            website: city.website,
            weibo: city.weibo,
            wechat: city.wechat,
            github: city.github,
            organiser: city.organiser,
            co_company: city.co_company,
            speakers: city.speakers,
            history: city.history
          },
          computed: {
            picPrefix: function () {
              var located = window.location.origin;
              // located + '/' + 
              return city.picPrefix;
            }
          }
        });
      }
      getCity()
    </script>
  </body>

</html>